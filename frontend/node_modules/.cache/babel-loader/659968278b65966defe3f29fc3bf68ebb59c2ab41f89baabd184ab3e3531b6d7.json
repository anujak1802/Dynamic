{"ast":null,"code":"import{useEffect}from'react';import{Outlet,useLoaderData,useSubmit}from'react-router-dom';import MainNavigation from'../components/MainNavigation';import{getTokenDuration}from'../util/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RootLayout(){const token=useLoaderData();const submit=useSubmit();// const navigation = useNavigation();\nuseEffect(()=>{if(!token){return;}if(token==='EXPIRED'){submit(null,{action:'/logout',method:'post'});return;}const tokenDuration=getTokenDuration();console.log(tokenDuration);setTimeout(()=>{submit(null,{action:'/logout',method:'post'});},tokenDuration);},[token,submit]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Outlet,{})})]});}export default RootLayout;","map":{"version":3,"names":["useEffect","Outlet","useLoaderData","useSubmit","MainNavigation","getTokenDuration","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RootLayout","token","submit","action","method","tokenDuration","console","log","setTimeout","children"],"sources":["C:/Users/Anuja Kokate/OneDrive/Desktop/Anuja/New folder/authentication/frontend/src/pages/Root.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { Outlet, useLoaderData, useSubmit } from 'react-router-dom';\n\nimport MainNavigation from '../components/MainNavigation';\nimport { getTokenDuration } from '../util/auth';\n\nfunction RootLayout() {\n  const token = useLoaderData();\n  const submit = useSubmit();\n  // const navigation = useNavigation();\n  useEffect(() => {\n    if (!token) {\n      return;\n    }\n\n    if (token === 'EXPIRED') {\n      submit(null, { action: '/logout', method: 'post' });\n      return;\n    }\n\n    const tokenDuration = getTokenDuration();\n    console.log(tokenDuration);\n\n    setTimeout(() => {\n      submit(null, { action: '/logout', method: 'post' });\n    }, tokenDuration);\n  }, [token, submit]);\n\n  return (\n    <>\n      <MainNavigation />\n      <main>\n        {/* {navigation.state === 'loading' && <p>Loading...</p>} */}\n        <Outlet />\n      </main>\n    </>\n  );\n}\n\nexport default RootLayout;\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,MAAM,CAAEC,aAAa,CAAEC,SAAS,KAAQ,kBAAkB,CAEnE,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,OAASC,gBAAgB,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAAAC,KAAK,CAAGX,aAAa,CAAC,CAAC,CAC7B,KAAM,CAAAY,MAAM,CAAGX,SAAS,CAAC,CAAC,CAC1B;AACAH,SAAS,CAAC,IAAM,CACd,GAAI,CAACa,KAAK,CAAE,CACV,OACF,CAEA,GAAIA,KAAK,GAAK,SAAS,CAAE,CACvBC,MAAM,CAAC,IAAI,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,MAAO,CAAC,CAAC,CACnD,OACF,CAEA,KAAM,CAAAC,aAAa,CAAGZ,gBAAgB,CAAC,CAAC,CACxCa,OAAO,CAACC,GAAG,CAACF,aAAa,CAAC,CAE1BG,UAAU,CAAC,IAAM,CACfN,MAAM,CAAC,IAAI,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,MAAO,CAAC,CAAC,CACrD,CAAC,CAAEC,aAAa,CAAC,CACnB,CAAC,CAAE,CAACJ,KAAK,CAAEC,MAAM,CAAC,CAAC,CAEnB,mBACEH,KAAA,CAAAF,SAAA,EAAAY,QAAA,eACEd,IAAA,CAACH,cAAc,GAAE,CAAC,cAClBG,IAAA,SAAAc,QAAA,cAEEd,IAAA,CAACN,MAAM,GAAE,CAAC,CACN,CAAC,EACP,CAAC,CAEP,CAEA,cAAe,CAAAW,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}